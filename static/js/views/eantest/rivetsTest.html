<html>
    <head>
        <title>Wizard Test</title>
          <style type="text/css" title="currentStyle">
            @import "../../../lib/jquery.datatables-1.8.2.css";
            @import "../../../lib/jquery-ui-1.9.1.custom.css";
            @import "../../../lib/jquery.qtip.min.css";
            @import "../../../css/eucalyptus.css";
          </style>
    </head>
    <body>
        <div class="euca-container">
            <div class="euca-main-outercontainer">
                <div class="inner-container">
                    <h1>Rivets Demo</h1>

                    <div id="testIt">
                        <dd data-text="model.text">x</dd>
                        <br/>
                        <dd data-text="model.amt">y</dd>
                    </div>

                </div>
            </div>
        </div>
    <script type="text/javascript" language="javascript" src="../../../lib/jquery-1.8.2.js"></script>
    <script type="text/javascript" language="javascript" src="../../../lib/jquery-ui-1.9.1.custom.js"></script>

    <script type="text/javascript" language="javascript" src="../../../js/underscore-1.4.3.js"></script>
    <script type="text/javascript" language="javascript" src="../../../js/backbone-0.9.10.js"></script>
    <script type="text/javascript" language="javascript" src="../../../js/rivetsbase.js"></script>      

        <script type="text/javascript">
            console.log('go ' + JSON.stringify(rivets));
            rivets.configure({
                adapter: {
                    subscribe: function(obj, keypath, callback) {
                        callback.wrapped = function(m, v) {
                            callback(v)
                        };
                        obj.on('change:' + keypath, callback.wrapped);
                    },
                    unsubscribe: function(obj, keypath, callback) {
                        obj.off('change:' + keypath, callback.wrapped);
                    },
                    read: function(obj, keypath) {
                        return obj.get(keypath);
                    },
                    publish: function(obj, keypath, value) {
                        obj.set(keypath, value);
                    }
                }
            });
            var model = new Backbone.Model({
                text: 'Hello World',
                amt: 23
            });
            var el = document.getElementById('testIt');
            rivets.bind(el, {model: model});
//            rivets.bind($('#rivets'), model);
        </script>
    </body>
</html>
